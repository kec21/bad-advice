YUI.add("hermes-template-share-modal-mail-pill",(function(e,a){var l=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,a,l,t,s){var n=null!=a?a:e.nullContext||{},r=e.hooks.helperMissing,i=e.escapeExpression,p=e.lookupProperty||function(e,a){if(Object.prototype.hasOwnProperty.call(e,a))return e[a]};return'<div class="pill" title="'+i((p(l,"stripTags")||a&&p(a,"stripTags")||r).call(n,null!=a?p(a,"value"):a,{name:"stripTags",hash:{},data:s,loc:{start:{line:1,column:25},end:{line:1,column:44}}}))+'">\n\t<span>'+i((p(l,"stripTags")||a&&p(a,"stripTags")||r).call(n,null!=a?p(a,"value"):a,{name:"stripTags",hash:{},data:s,loc:{start:{line:2,column:7},end:{line:2,column:26}}}))+'</span>\n\t<span class="remove-tag">\n\t\t<i class="delete-tag" title="Delete"></i>\n\t</span>\n</div>'},useData:!0}),t={};e.Array.each([],(function(a){var l=e.Template.get("hermes/"+a);l&&(t[a]=l)})),e.Template.register("hermes/share-modal-mail-pill",(function(a,s){return(s=s||{}).partials=s.partials?e.merge(t,s.partials):t,l(a,s)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-fluid-warning",(function(e,n){var l=e.Template.Handlebars.revive({1:function(e,n,l,t,a){var s,r=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return e.escapeExpression("function"==typeof(s=null!=(s=r(l,"title")||(null!=n?r(n,"title"):n))?s:e.hooks.helperMissing)?s.call(null!=n?n:e.nullContext||{},{name:"title",hash:{},data:a,loc:{start:{line:2,column:42},end:{line:2,column:51}}}):s)},3:function(e,n,l,t,a){var s=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return e.escapeExpression((s(l,"intlMessage")||n&&s(n,"intlMessage")||e.hooks.helperMissing).call(null!=n?n:e.nullContext||{},{name:"intlMessage",hash:{intlName:"common.OOPS"},data:a,loc:{start:{line:2,column:59},end:{line:2,column:97}}}))},compiler:[8,">= 4.3.0"],main:function(e,n,l,t,a){var s,r,o=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,u=e.escapeExpression,c=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<div class="fluid-warning">\n\t<span class="warning-title">'+(null!=(s=c(l,"if").call(o,null!=n?c(n,"title"):n,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:2,column:29},end:{line:2,column:104}}}))?s:"")+'</span>\n\t<br/><br/>\n\t<span class="warning-message">'+u("function"==typeof(r=null!=(r=c(l,"message")||(null!=n?c(n,"message"):n))?r:i)?r.call(o,{name:"message",hash:{},data:a,loc:{start:{line:4,column:31},end:{line:4,column:42}}}):r)+'</span>\n\t<button class="button">'+u((c(l,"intlMessage")||n&&c(n,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.OK"},data:a,loc:{start:{line:5,column:24},end:{line:5,column:60}}}))+"</button>\n</div>"},useData:!0}),t={};e.Array.each([],(function(n){var l=e.Template.get("hermes/"+n);l&&(t[n]=l)})),e.Template.register("hermes/fluid-warning",(function(n,a){return(a=a||{}).partials=a.partials?e.merge(t,a.partials):t,l(n,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-fluid-share-panel-error",(function(e,a){var n=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,a,n,r,l){var s,t=null!=a?a:e.nullContext||{},i=e.hooks.helperMissing,o=e.escapeExpression,c=e.lookupProperty||function(e,a){if(Object.prototype.hasOwnProperty.call(e,a))return e[a]};return'<div class="share-panel-body cancel-share">\n\t<div class="cancel-message">\n\t\t'+o("function"==typeof(s=null!=(s=c(n,"errorMessage")||(null!=a?c(a,"errorMessage"):a))?s:i)?s.call(t,{name:"errorMessage",hash:{},data:l,loc:{start:{line:3,column:2},end:{line:3,column:18}}}):s)+'\n\t</div>\n\n\t<button class="done-sharing mini">'+o((c(n,"intlHTMLMessage")||a&&c(a,"intlHTMLMessage")||i).call(t,{name:"intlHTMLMessage",hash:{intlName:"common.CANCEL"},data:l,loc:{start:{line:6,column:35},end:{line:6,column:79}}}))+"</button>\n</div>"},useData:!0}),r={};e.Array.each([],(function(a){var n=e.Template.get("hermes/"+a);n&&(r[a]=n)})),e.Template.register("hermes/fluid-share-panel-error",(function(a,l){return(l=l||{}).partials=l.partials?e.merge(r,l.partials):r,n(a,l)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-fluid-share-old-html-embed-code",(function(l,e){var a=l.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(l,e,a,n,t){var i,o=null!=e?e:l.nullContext||{},r=l.hooks.helperMissing,m="function",u=l.escapeExpression,c=l.lookupProperty||function(l,e){if(Object.prototype.hasOwnProperty.call(l,e))return l[e]};return'<a href="'+u(typeof(i=null!=(i=c(a,"embedLink")||(null!=e?c(e,"embedLink"):e))?i:r)===m?i.call(o,{name:"embedLink",hash:{},data:t,loc:{start:{line:1,column:9},end:{line:1,column:22}}}):i)+'" title="'+u(typeof(i=null!=(i=c(a,"title")||(null!=e?c(e,"title"):e))?i:r)===m?i.call(o,{name:"title",hash:{},data:t,loc:{start:{line:1,column:31},end:{line:1,column:40}}}):i)+" by "+u(typeof(i=null!=(i=c(a,"authorName")||(null!=e?c(e,"authorName"):e))?i:r)===m?i.call(o,{name:"authorName",hash:{},data:t,loc:{start:{line:1,column:44},end:{line:1,column:58}}}):i)+", "+u((c(a,"intlMessage")||e&&c(e,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"share-modal.ON_FLICKR"},data:t,loc:{start:{line:1,column:60},end:{line:1,column:108}}}))+'"><img src="'+u(typeof(i=null!=(i=c(a,"farmURL")||(null!=e?c(e,"farmURL"):e))?i:r)===m?i.call(o,{name:"farmURL",hash:{},data:t,loc:{start:{line:1,column:120},end:{line:1,column:131}}}):i)+'" width="'+u(typeof(i=null!=(i=c(a,"width")||(null!=e?c(e,"width"):e))?i:r)===m?i.call(o,{name:"width",hash:{},data:t,loc:{start:{line:1,column:140},end:{line:1,column:149}}}):i)+'" height="'+u(typeof(i=null!=(i=c(a,"height")||(null!=e?c(e,"height"):e))?i:r)===m?i.call(o,{name:"height",hash:{},data:t,loc:{start:{line:1,column:159},end:{line:1,column:169}}}):i)+'" alt="'+u(typeof(i=null!=(i=c(a,"alt")||(null!=e?c(e,"alt"):e))?i:r)===m?i.call(o,{name:"alt",hash:{},data:t,loc:{start:{line:1,column:176},end:{line:1,column:183}}}):i)+'"></a>'},useData:!0}),n={};l.Array.each([],(function(e){var a=l.Template.get("hermes/"+e);a&&(n[e]=a)})),l.Template.register("hermes/fluid-share-old-html-embed-code",(function(e,t){return(t=t||{}).partials=t.partials?l.merge(n,t.partials):n,a(e,t)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-fluid-share-old-iframe-embed-code",(function(e,l){var a=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,l,a,n,r){var t,i=null!=l?l:e.nullContext||{},o=e.hooks.helperMissing,s="function",u=e.escapeExpression,m=e.lookupProperty||function(e,l){if(Object.prototype.hasOwnProperty.call(e,l))return e[l]};return'<iframe src="'+u(typeof(t=null!=(t=m(a,"embedLink")||(null!=l?m(l,"embedLink"):l))?t:o)===s?t.call(i,{name:"embedLink",hash:{},data:r,loc:{start:{line:1,column:13},end:{line:1,column:26}}}):t)+'" width="'+u(typeof(t=null!=(t=m(a,"width")||(null!=l?m(l,"width"):l))?t:o)===s?t.call(i,{name:"width",hash:{},data:r,loc:{start:{line:1,column:35},end:{line:1,column:44}}}):t)+'" height="'+u(typeof(t=null!=(t=m(a,"height")||(null!=l?m(l,"height"):l))?t:o)===s?t.call(i,{name:"height",hash:{},data:r,loc:{start:{line:1,column:54},end:{line:1,column:64}}}):t)+'" frameborder="0" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>'},useData:!0}),n={};e.Array.each([],(function(l){var a=e.Template.get("hermes/"+l);a&&(n[l]=a)})),e.Template.register("hermes/fluid-share-old-iframe-embed-code",(function(l,r){return(r=r||{}).partials=r.partials?e.merge(n,r.partials):n,a(l,r)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("flutil",(function(e){"use strict";var t,n=e.config.win,r=e.config.doc,o=2e3,i={getPrefixedStyleProperty:{}},a={};t=e.flutil={xbrowser:{transition:{property:"transitionProperty",duration:"transitionDuration",transitionEndEvent:"transitionend"}},setStylePrefixed:function(t,n,r){var o=this.getPrefixedStyleProperty(t);return e.Array.each(o,(function(e){r.setStyle(e,n)})),r},getPrefixedStyleProperty:function(t){if(i.getPrefixedStyleProperty[t])return i.getPrefixedStyleProperty[t];var n=[];return e.Array.each(["-webkit-","-moz-","-ms-",""],(function(e){n.push(e+t)})),i.getPrefixedStyleProperty[t]=n,n},dump:function(){for(var e,t=new Array(arguments.length),n=0;n<t.length;++n)t[n]=arguments[n];e="string"==typeof t[0]?t.shift():"LOG",t.unshift("color: #FC0"),t.unshift("%c["+e+"]"),console.log.apply(console,t)},extend:function(e){e||(e={});for(var t=new Array(arguments.length),n=0;n<t.length;++n)t[n]=arguments[n];return Array.prototype.slice.call(t,1).forEach((function(t){if(t)for(var n in t)e[n]=t[n]})),e},objectCreate:function(e,n){var r,o;return(r=function(){}).prototype=e,o=new r,n?t.extend(o,n):o},result:function(t){return e.Lang.isFunction(t)?t():t},onTransitionEnd:function(e,r){if(r&&"function"==typeof r){var i,a,u,s;if(e=e.getDOMNode(),u=n.getComputedStyle(e)[t.xbrowser.transition.property],s=n.getComputedStyle(e)[t.xbrowser.transition.duration],!u||!s)return r();a=function(){clearTimeout(i),e.removeEventListener(t.xbrowser.transition.transitionEndEvent,a),r()},i=setTimeout(a,o),e.addEventListener(t.xbrowser.transition.transitionEndEvent,a)}},toCamelCase:function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()},setCookie:function(t){if(!t.cookieName||void 0===t.cookieValue||!t.path)throw new Error("[flutil.setCookie] Missing important parameters to set a cookie");var n=t.cookieName,r=t.cookieValue,o=t.domain||".flickr.com",i=t.path,a=t.expiresMonthsFromNow||3,u=e.Lang.isNumber(t.expires)?t.expires:e.moment().add(a,"months").toDate();t.remove&&e.Cookie.remove(n,{path:i}),e.Cookie.set(n,r,{domain:o,path:i,expires:u})},createFragment:function(e){var t,n=r.createElement("div"),o=r.createDocumentFragment();for(n.innerHTML=e;t=n.firstChild;)o.appendChild(t);return o},constrainToValues:function(e,t){if(!t)throw new Error("Must supply list to constrain to values.");return e&&"string"==typeof e?t.indexOf(e)<0?t[0]:e:t[0]},escapeInput:function(e,t){var n;return r?e||"number"==typeof e?(t||(t="text"),"html"===t?((n=r.createElement("div")).appendChild(r.createTextNode(e)),n.innerHTML):"text"===t?(n=r.createElement("div"),e=e.replace(/(<([^>]+)>\s*)+/gi," ").trim(),n.appendChild(r.createTextNode(e)),n.innerHTML):"numericstring"===t?(e+"").replace(/[^\d]/,""):void 0):"":e},disableEvent:function(n,r){r=e.merge({excepted:":not(*)",onDisabledEvent:null},r),document.body.addEventListener&&(a[n]=a[n]||{},a[n][r.excepted]&&t.enableEvent(n,r.excepted),a[n][r.excepted]=function(t){r.excepted&&e.one(t.target).ancestors(r.excepted,!0).isEmpty()&&(t.preventDefault(),t.stopPropagation(),r.onDisabledEvent&&r.onDisabledEvent(t))},document.body.addEventListener(n,a[n][r.excepted],!0))},enableEvent:function(t,n){n=e.merge({excepted:":not(*)"},n),a[t]&&a[t][n.excepted]&&(document.body.removeEventListener(t,a[t][n.excepted],!0),a[t][n.excepted]=null)},unescape:function(t){if(!t||!e.Lang.isString(t))return t;var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#39;":"'","&#92;":"\\"};return t.replace(/(&amp;|&lt;|&gt;|&quot;|&#x27;|&#39;|&#92;)/gi,(function(e){return n[e.toLowerCase()]}))},normalizeURIComponents:function(e){var t,n,r,o;if(t={"&":["&amp;","&#x00026;","&#38;"],"<":["&lt;","&#x0003C;","&#60;"],">":["&gt;","&#x0003E;","&#62;"],'"':["&quot;","&#x00022;","&#34;"],"'":["&apos;","&#x00027;","&#39;"],"`":["&grave;","&DiacriticalGrave;","&#x00060;","&#96;"]},e){for(n in e=(e=e.replace(/\+/g," ")).replace(/%25/g,"%2525"),t)r=n,o=t[n],e=e.replace(new RegExp(o.join("|"),"gi"),r);return e=decodeURIComponent(e)}},template:function(e,t){return e.replace(/\{\{([\w\.=]+)\}\}/g,(function(e,n){var r,o=n.split(/=/);return r=o[0].split(/\./).reduce((function(e,t){return e?e[t]:null}),t),null!=r?r+"":o[1]||""})).trim()},createHashCode:function(e){var t;return t="object"!=typeof e?e+"":Object.keys(e||{}).map((function(t){var n=t;try{n+=JSON.stringify(e[t])}catch(e){n+="?"}return n})).join(""),t=t.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0).toString().replace(/^-/,""),"0000000000".slice(0,-1*t.length)+t},camelCaseifyKeys:function(e){return Object.keys(e).reduce((function(n,r){return n[t.camelCaseify(r)]=e[r],n}),{})},camelCaseify:function(e){return e.replace(/-(\w)/gi,(function(e,t){return t.toUpperCase()}))},unCamelCaseify:function(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()})).replace(/^-/,"")},unicodeVariants:["(?:ae|æ)","(?:oe|œ)","(?:ss|ß)","(?:th|Þ)","[aáàâäãaåấ]","[eéèêëě3]","[iíìîïǐ]","[oóòôöõǒỏơớờởỡợø]","[uúùûüǔǚưứừửữự]","[yýÿ]","[cçč]","[dÐ]","[fƒ]","[gǧ]","[hȟ]","[jǰ]","[kǩ]","[lľ]","[nñň]","[rř®]","[sšṧ]","[tť]","[zž]"],agnosticizeUnicode:function(e){var t,n=this.unicodeVariants,r=n.length;for(t=0;t<r;t++)e=e.replace(new RegExp(n[t],"gi"),n[t]);return e},buildHttpQuery:function(e,t){return e+"?"+Object.keys(t||{}).map((function(e){return e+"="+encodeURIComponent(t[e])})).join("&")},formatNumbers:function(e){return Math.floor(e/1e6)>0?Math.floor(e/1e5)/10+"M":Math.floor(e/1e3)>0?Math.floor(e/100)/10+"K":e},formatIntlPluralNumber:function(t,n,r){var o=e.flutil.formatNumbers(n);return r?t.replace(/(?:\d*[,\.]\d+)+/,o):t.replace(/(?:\d*[,\.\s]\d+)+/,o)},openPopupWindow:function(t,n){var r,o,i,a,u,s;if("undefined"!=typeof window)return o=window,n=e.mix({name:"WIN"+(new Date).getTime(),ui:{}},n||{},!0),(i=e.mix({dependent:!0,status:!0,scrollbars:!0,width:600,height:600},n.ui,!0)).top||(i.top=Math.floor((o.screen.height-i.height)/2)),i.left||(i.left=Math.floor((o.screen.width-i.width)/2)),r=Object.keys(i).map((function(e){var t=i[e];return"boolean"==typeof t&&(t=t?"yes":"no"),e+"="+t})).join(","),(o=o.open(t,n.name,r)).focus(),(n.onUrlChange||n.onClose)&&(a="_start_",s=setInterval((function(){if(!o.location)return clearInterval(s),void(n.onClose&&n.onClose());try{u=o.location.href||"x-origin"}catch(t){o.postMessage("",e.url())}u!==a&&(a=u,n.onUrlChange&&n.onUrlChange(u))}),1e3)),o},parseYYYYMMDDDatestamp:function(t){return e.Lang.isString(t)&&8===t.length?Date.parse(t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2)):null},photoCoords:{normalize:function(e,t,n,r){return{x:e/500,y:t/375,w:n/500,h:r/375}},denormalize:function(e){return{x:500*e.x,y:375*e.y,w:500*e.w,h:375*e.h}},denormX:function(e){return 500*e.x},denormY:function(e){return 375*e.y},denormW:function(e){return 500*e.w},denormH:function(e){return 375*e.h}},getGroupsOptoutValues:function(t){var n=[];return!0===t["rebootify-group-members"]&&n.push({name:"groups_members_opt",value:0}),!0===t["enable-groups-discussion-optout"]&&n.push({name:"groups_discuss_opt",value:0}),!0===t["enable-groups-optout"]&&n.push({name:"groups_opt",value:0}),{url:e.url("/help/forum/en-us/72157645851675914/lastpage#reply"),flippers:n}},nonLockingSynchronousLoop:function(e,t,n,r){var o,i=0,a=!0,u=Object.keys(e),s=function(e){t(e),++i>=c?n():i===o||a?(i===o&&(o+=r.threshold),a=!1,setTimeout((function(){s(u[i])}),1)):s(u[i])},c=u.length;(r=r||{}).threshold=r.threshold||1e3,o=r.threshold,a=!1!==r.earlyUnlock,s(u[i])},shuffleFisherYates:function(e){for(var t,n,r=e.slice(0),o=r.length;0!==o;)n=Math.floor(Math.random()*o),t=r[o-=1],r[o]=r[n],r[n]=t;return r}}}),"@VERSION@",{requires:["url","moment"]});